{"mappings":"MAAMA,EAAmDC,SAASC,eAAe,UAC3EC,EAAgDF,SAASC,eAAe,QACxEE,EAAmCH,SAASC,eAAe,SAC3DG,EAAqCJ,SAASC,eAAe,WAgC7DI,EAAWC,OAAQC,OAAAA,EAAQC,IAAAA,YACvBC,EAAAA,IAAgBC,QAAAA,CAClBC,iBAAkB,qDAClBC,kBAAmB,uBACnBC,eAAkB,SAEhBC,QAAiBC,MAAAA,gCAAAA,OAAsCP,GAAAA,CACzDD,OAAQA,EACRS,QAASP,OAENQ,SAA+BH,EAASI,cAExCD,GAGLE,EAAe,EAAEC,IAAAA,EAAKC,MAAAA,EAAOC,KAAAA,EAAMC,GAAAA,wGAIjBH,EAAAA,mHAAAA,OAEiBC,EAAAA,gDAAAA,OACFC,EAAAA,gEAMvCpB,EAAWsB,iBAAiB,UAAWC,IACnCA,EAAMC,iBA1DQpB,OAAAA,OACXqB,EAAKC,OAAS,EAAA,CACbxB,EAAQyB,UAAUC,OAAO,gBAKnBC,SAJa1B,EAAAA,CACfE,OAAQ,MACRC,IAAAA,mBAAAA,OAAwBmB,MAERK,KAAIC,GAASd,EAAAA,CAC7BC,IAAKa,EAAM,EAAK,SAChBZ,MAAOY,EAAM,EACbX,KAAAA,GAAAA,OAASW,EAAM,EAAA,KACfV,GAAIU,EAAM,OACVC,KAAK,KACT/B,EAAMgC,UAAYJ,EAClB3B,EAAQyB,UAAUO,IAAI,YA6C1BC,CAAUtC,EAAYuC","sources":["./src/main.ts"],"sourcesContent":["const searchInput: HTMLInputElement = <HTMLInputElement> document.getElementById(\"search\");\r\nconst searchForm: HTMLFormElement = <HTMLFormElement> document.getElementById(\"form\");\r\nconst cards: HTMLElement = <HTMLElement> document.getElementById(\"cards\");\r\nconst spinner: HTMLElement = <HTMLElement> document.getElementById(\"spinner\");\r\n\r\n\r\nconst getTitles = async (name: string) =>{\r\n    if(name.length > 0){\r\n        spinner.classList.remove('d-none');\r\n        const data = await fetchApi({\r\n            method: 'GET',\r\n            uri: `auto-complete?q=${name}`\r\n        });\r\n        const result = data.map(movie => generateCard({\r\n            img: movie['i']['imageUrl'],\r\n            title: movie['l'],\r\n            desc: `${movie['s']}}`,\r\n            id: movie['id']\r\n        })).join(\" \");\r\n        cards.innerHTML = result;\r\n        spinner.classList.add('d-none');;\r\n    }\r\n};\r\n\r\nconst setModal = async (id: string) => {\r\n    console.log(id)\r\n    if(id != null){\r\n        const data = await fetchApi({\r\n            method: 'GET',\r\n            uri: `title/get-details?tconst=${id}`\r\n        });\r\n        console.log(data);\r\n    }\r\n};\r\n\r\nconst fetchApi = async ({method, uri}) =>{\r\n    const myHeaders = new Headers({\r\n        'x-rapidapi-key': \"ae43f5de74msh68e2c3a12f607ffp147000jsnbb00119a31e8\",\r\n        'x-rapidapi-host': \"imdb8.p.rapidapi.com\",\r\n        'useQueryString': 'true'\r\n    });\r\n    const response = await fetch(`https://imdb8.p.rapidapi.com/${uri}`, {\r\n        method: method,\r\n        headers: myHeaders\r\n    });\r\n    const {d}: {d: Array<Object>} = await response.json()\r\n\r\n    return d;\r\n}\r\n\r\nconst generateCard = ({img, title, desc, id}) =>{\r\n    return `\r\n        <div class=\"col\">\r\n            <div class=\"card h-100\">\r\n            <img src=\"${img}\" class=\"card-img-top\" alt=\"...\">\r\n            <div class=\"card-body\">\r\n                <h5 class=\"card-title\">${title}</h5>\r\n                <p class=\"card-text\">${desc}</p>\r\n            </div>\r\n            </div>\r\n        </div>`\r\n}\r\n\r\nsearchForm.addEventListener('submit', (event) => {\r\n    event.preventDefault();\r\n    getTitles(searchInput.value);\r\n});"],"names":["$9a91411297914824a5b2ad966dec1879$var$searchInput","document","getElementById","$9a91411297914824a5b2ad966dec1879$var$searchForm","$9a91411297914824a5b2ad966dec1879$var$cards","$9a91411297914824a5b2ad966dec1879$var$spinner","$9a91411297914824a5b2ad966dec1879$var$fetchApi","async","method","uri","myHeaders","Headers","x-rapidapi-key","x-rapidapi-host","useQueryString","response","fetch","headers","d","json","$9a91411297914824a5b2ad966dec1879$var$generateCard","img","title","desc","id","addEventListener","event","preventDefault","name","length","classList","remove","result","map","movie","join","innerHTML","add","$9a91411297914824a5b2ad966dec1879$var$getTitles","value"],"version":3,"file":"index.15a171c5.js.map"}